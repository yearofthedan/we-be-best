fragment ItemBits on Item {
    __typename
    id
    posX
    posY
    lockedBy
    style
    text
    isDeleted
}

subscription roomMemberUpdates($id: ID!) {
    roomMemberUpdates(id: $id) {
        id
        members {
            id
            name
        }
    }
}

subscription itemUpdates($roomId: ID!) {
    itemUpdates(roomId: $roomId) {
        ...ItemBits
    }
}

query room($id: ID!) {
    room(id: $id) {
        id
        members {
            id
            name
        }
        items {
            ...ItemBits
        }
    }
}

mutation joinRoom($input: JoinRoomInput!) {
    joinRoom(input: $input) {
        id
        items {
            ...ItemBits
        }
    }
}
